import{n as d,e as u}from"./index.b6025da3.js";var h=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{ref:"tabberEl",class:["s-tabber",{"-full-width":e.fullWidth,"-alternative":e.alternative}],on:{mousedown:function(s){!e.noSwipe&&e.bindScroll(s)}}},[t("div",{ref:"wrapperEl",class:["wrapper",{"-resizable":e.resizable}],style:{transform:"translateX("+e.scrollLeftOffset+"px)"}},[e._l(e.tabs,function(s){return t("div",{key:s.value,ref:s.value,refInFor:!0,class:e.getClasses(s),on:{click:function(n){return e.changeTab(s)}}},[t("span",{staticClass:"content"},[s.icon?t("s-icon",{staticClass:"icon",attrs:{icon:s.icon,size:"20"}}):e._e(),t("span",{staticClass:"text"},[e._v(e._s(s.name))])],1)])}),t("div",{class:["border",{"-alternative":e.alternative}],style:[e.activeStyle,e.borderStyle]})],2)])},v=[];const f={name:"STabber",components:{SIcon:u},props:{tabs:{type:Array,required:!0},activeTab:String,resizable:Boolean,iconOnly:Boolean,noSwipe:Boolean,fullWidth:Boolean,alternative:Boolean,borderColor:{type:[String,Array],validator:e=>e.length}},data(){return{activeStyle:{},scrollLeftOffset:0,previousPosition:0,lastClickPosition:0,lastScrollPosition:0}},watch:{activeTab:{immediate:!0,handler:"getActiveStyle"}},mounted(){addEventListener("resize",this.getActiveStyle)},computed:{borderStyle(){return{background:Array.isArray(this.borderColor)?"linear-gradient(90deg, "+this.borderColor.join(", ")+")":this.borderColor}}},methods:{getClasses(e){return["tab",{"-active":this.getActiveTab(e),"-icon-only":e.iconOnly||this.iconOnly,"-alternative":this.alternative,"-disabled":e.disabled,"-has-icon":e.icon}]},getActiveTab(e){return e.subTabs?e.subTabs.find(i=>i===this.activeTab):e.value===this.activeTab},getActiveStyle(){this.$nextTick(()=>{const e=this.tabs.some(l=>l.subTabs),i=(this.tabs.find(l=>l.subTabs&&l.subTabs.includes(this.activeTab))||{}).value,t=e?i:this.activeTab,s=this.$refs.wrapperEl.getBoundingClientRect().left||0,n=this.$refs[t]&&this.$refs[t][0],r=n?n.getBoundingClientRect().left-s+"px":0,o=n?n.offsetWidth+"px":0,a={left:r,width:o};this.activeStyle=a,this.scrollLeftOffset=this.centralizeActiveTab(parseInt(r),parseInt(o))})},centralizeActiveTab(e,i){const t=this.$refs.tabberEl.getBoundingClientRect().width,s=this.$refs.wrapperEl.getBoundingClientRect().width,n=this.$refs.wrapperEl.scrollWidth,r=-e+t/2-i/2;return t>=n||r>0?0:n+r<=t?e+i>=t?s-(e+i):t-n:r},changeTab(e){e.disabled||this.$emit("change-tab",e.value)},bindScroll({clientX:e}){this.lastClickPosition=e,this.lastScrollPosition=this.scrollLeftOffset,window.addEventListener("mousemove",this.updateScrollPosition),window.addEventListener("mouseup",this.unbindScroll)},unbindScroll(){window.removeEventListener("mousemove",this.updateScrollPosition),window.removeEventListener("mouseup",this.unbindScroll)},updateScrollPosition({clientX:e}){const i=this.$refs.tabberEl.getBoundingClientRect().width,t=this.$refs.wrapperEl.getBoundingClientRect().width,s=this.$refs.wrapperEl.scrollWidth,n=e-this.lastClickPosition,r=this.lastScrollPosition+n,{left:o,width:a}=this.activeStyle;if(i>=s||r>=0)return this.scrollLeftOffset=0;if(s+r<=i)return this.scrollLeftOffset=parseInt(o)+parseInt(a)>=i?t-(parseInt(o)+parseInt(a)):i-s;this.scrollLeftOffset=r,this.previousPosition=r}},beforeDestroy(){removeEventListener("resize",this.getActiveStyle)}},c={};var b=d(f,h,v,!1,p,null,null,null);function p(e){for(let i in c)this[i]=c[i]}var g=function(){return b.exports}();export{g as default};
