import{S as e}from"./Index.e5ed1883.js";import{S as o}from"./Index.0209906d.js";import{n as s,S as t}from"./index.1f769140.js";import{S as l}from"./box.293e80ab.js";import"./vendor.5affd582.js";const n={name:"SModal",components:{SOverlay:o,SIcon:t},props:{isOpened:{type:Boolean,required:!0},title:{type:String,default:""},disabled:Boolean,noClose:Boolean,noHeader:Boolean,fullscreen:Boolean,hasScrollShadow:Boolean,noOverlay:Boolean,scrollEl:String},data:()=>({showScrollShadow:!1}),watch:{isOpened(e,o){e!==o&&this.checkOverflow()},scrollEl(e,o){e!==o&&this.checkOverflow()}},mounted(){this.checkOverflow()},computed:{classes(){return["modal",{"-fullscreen":this.fullscreen,"-scroll-shadow":this.hasScrollShadow}]}},methods:{checkOverflow(){this.isOpened?this.open():this.close()},toggleScrollShadow(){if(!this.hasScrollShadow)return;const e=this.$refs.content,o=e.scrollTop,s=e.scrollHeight,t=e.clientHeight;this.showScrollShadow=!(s<=t)&&(o>15||o+t>=s)},open(){const e=this.scrollEl?document.getElementById(this.scrollEl):document.body;Object.assign(e.style,{overflow:"hidden"}),window.addEventListener("keydown",this.closeOnEsc)},close(){const e=this.scrollEl?document.getElementById(this.scrollEl):document.body;Object.assign(e.style,{overflow:""}),window.removeEventListener("keydown",this.closeOnEsc)},emit(){this.$emit("close"),this.close()},closeOnEsc(e){27===e.keyCode&&this.emit()},onClickOutside(){this.noOverlay&&this.emit()}},beforeDestroy(){this.close(),window.removeEventListener("keydown",this.closeOnEsc)}},a={};var i=s(n,(function(){var e=this,o=e.$createElement,s=e._self._c||o;return e.isOpened?s("transition",{attrs:{name:"s-modal-fade",appear:""}},[s("div",{staticClass:"s-modal"},[e.isOpened&&!e.noOverlay?s("s-overlay",{attrs:{show:""},on:{close:e.emit}}):e._e(),s("div",{class:e.classes,on:{focusout:e.onClickOutside}},[e.noHeader?e._e():s("div",{staticClass:"header"},[e._t("header",(function(){return[s("div",{staticClass:"title"},[e._v(e._s(e.title))])]})),s("div",{staticClass:"actions"},[e._t("actions"),s("s-icon",{attrs:{icon:"sdz-close",disabled:e.disabled,"primary-color":""},nativeOn:{click:function(o){return e.$emit("close")}}})],2)],2),s("div",{class:["wrapper-content",{"-shadow-top":e.showScrollShadow}]},[s("div",{ref:"content",staticClass:"content",on:{scroll:e.toggleScrollShadow}},[e._t("default")],2)])])],1)]):e._e()}),[],!1,c,null,null,null);function c(e){for(let o in a)this[o]=a[o]}const r={};var d=s({components:{SButton:e,SModal:function(){return i.exports}(),SBox:l},data:()=>({showSimpleModal:!1,showNoHeaderModal:!1})},(function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("div",{staticClass:"s-modal-example"},[s("h1",{staticClass:"h1"},[e._v("Modal")]),s("s-box",{staticClass:"flex-inline flex-center"},[s("s-button",{on:{click:function(o){e.showSimpleModal=!0}}},[e._v("open simple modal")]),s("s-modal",{attrs:{title:"header modal","is-opened":e.showSimpleModal},on:{close:function(o){e.showSimpleModal=!1}}},[e._v(" modal content ")]),s("s-button",{on:{click:function(o){e.showNoHeaderModal=!0}}},[e._v("open no header modal")]),s("s-modal",{attrs:{"no-header":"","is-opened":e.showNoHeaderModal},on:{close:function(o){e.showNoHeaderModal=!1}}},[e._v(" modal content ")])],1)],1)}),[],!1,h,null,null,null);function h(e){for(let o in r)this[o]=r[o]}var m=function(){return d.exports}();export{m as default};
