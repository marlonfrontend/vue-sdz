import n from"./Index.44c919b9.js";import{n as c,e as i}from"./index.c517d76c.js";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.isOpened?o("transition",{attrs:{name:"s-modal-fade",appear:""}},[o("div",{staticClass:"s-modal"},[e.isOpened&&!e.noOverlay?o("s-overlay",{attrs:{show:""},on:{close:e.emit}}):e._e(),o("div",{class:e.classes,on:{focusout:e.onClickOutside}},[e.noHeader?e._e():o("div",{staticClass:"header"},[e._t("header",function(){return[o("div",{staticClass:"title"},[e._v(e._s(e.title))])]}),o("div",{staticClass:"actions"},[e._t("actions"),o("s-icon",{attrs:{icon:"sdz-close",disabled:e.disabled,"primary-color":""},nativeOn:{click:function(s){return e.$emit("close")}}})],2)],2),o("div",{class:["wrapper-content",{"-shadow-top":e.showScrollShadow}]},[o("div",{ref:"content",staticClass:"content",on:{scroll:e.toggleScrollShadow}},[e._t("default")],2)])])],1)]):e._e()},a=[];const d={name:"SModal",components:{SOverlay:n,SIcon:i},props:{isOpened:{type:Boolean,required:!0},title:{type:String,default:""},disabled:Boolean,noClose:Boolean,noHeader:Boolean,fullscreen:Boolean,hasScrollShadow:Boolean,noOverlay:Boolean,scrollEl:String},data(){return{showScrollShadow:!1}},watch:{isOpened(e,t){e!==t&&this.checkOverflow()},scrollEl(e,t){e!==t&&this.checkOverflow()}},mounted(){this.checkOverflow()},computed:{classes(){return["modal",{"-fullscreen":this.fullscreen,"-scroll-shadow":this.hasScrollShadow}]}},methods:{checkOverflow(){this.isOpened?this.open():this.close()},toggleScrollShadow(){if(!this.hasScrollShadow)return;const e=this.$refs.content,t=e.scrollTop,o=e.scrollHeight,s=e.clientHeight;this.showScrollShadow=!(o<=s)&&(t>15||t+s>=o)},open(){const e={overflow:"hidden"},t=this.scrollEl?document.getElementById(this.scrollEl):document.body;Object.assign(t.style,e),window.addEventListener("keydown",this.closeOnEsc)},close(){const e={overflow:""},t=this.scrollEl?document.getElementById(this.scrollEl):document.body;Object.assign(t.style,e),window.removeEventListener("keydown",this.closeOnEsc)},emit(){this.$emit("close"),this.close()},closeOnEsc(e){e.keyCode===27&&this.emit()},onClickOutside(){this.noOverlay&&this.emit()}},beforeDestroy(){this.close(),window.removeEventListener("keydown",this.closeOnEsc)}},l={};var h=c(d,r,a,!1,u,null,null,null);function u(e){for(let t in l)this[t]=l[t]}var m=function(){return h.exports}();export{m as default};
