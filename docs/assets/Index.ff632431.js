import{n as u,_ as f,S as y,a as b}from"./index.88ccfa18.js";import{S as w}from"./Index.7ca8baa8.js";import $ from"./Index.f23f84c0.js";import k from"./Index.b2ab09d0.js";import"./Index.05a6b9d7.js";var P=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"pagination"},[e._t("pagination",function(){return[t("div",{staticClass:"pages"},[t("s-input",{attrs:{mask:["##########"],value:e.page},on:{input:function(s){return e.$emit("change:page",s)}}}),e._v(" / "+e._s(e.totalPages)+" "),t("s-icon",{staticClass:"previous",attrs:{size:"23",icon:"sdz-chevron-left",disabled:!e.canBack},nativeOn:{click:function(s){e.canBack&&e.$emit("previous")}}}),t("s-icon",{staticClass:"next",attrs:{size:"23",icon:"sdz-chevron-right",disabled:!e.canGo},nativeOn:{click:function(s){e.canGo&&e.$emit("next")}}})],1)]})],2)},C=[];const x={name:"Pagination",components:{SIcon:$,SInput:k},props:{totalPages:Number,page:[Number,String],perPage:[Number,String],rows:{type:Array,required:!0}},computed:{canBack(){return+this.page!=1},canGo(){return+this.page<Math.ceil(this.totalPages)}}},h={};var S=u(x,P,C,!1,R,null,null,null);function R(a){for(let e in h)this[e]=h[e]}const v=function(){return S.exports}(),A=(a,e)=>typeof(a&&e)=="number",T=(a,e)=>(o,t)=>A(o[a],t[a])?e==="increase"?t[a]-o[a]:o[a]-t[a]:e==="increase"?o[a]>t[a]?1:o[a]<t[a]?-1:0:o[a]<t[a]?1:o[a]>t[a]?-1:0,z={created(){this.cols.forEach(a=>{typeof a!="object"&&console.error("the array of columns must contain only objects")}),this.rows.forEach(a=>{typeof a!="object"&&console.error("the array of rows must contain only objects")}),this.paginable&&!!this.maxHeight&&console.warn("pagination can not have a maxHeight property")},computed:{hasValid(){return!(this.cols||this.$scopedSlots.col)&&!(this.dataTable||this.$scopedSlots.row)?(console.error("you must set the array of columns and rows"),!1):this.cols||this.$scopedSlots.col?this.rows||this.$scopedSlots.row?!0:(console.error("you must set the array of rows"),!1):(console.error("you must set the array of columns"),!1)}}};var E=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"filters"},[t("input",e._b({staticClass:"filter",domProps:{value:e.search},on:{input:function(s){return e.$emit("filter",s.target.value)}}},"input",e.$attrs,!1))])},j=[];const I={name:"Filters",props:{search:{type:String,required:!0}}},p={};var N=u(I,E,j,!1,O,null,null,null);function O(a){for(let e in p)this[e]=p[e]}const B=function(){return N.exports}();var F=function(){var e=this,o=e.$createElement,t=e._self._c||o;return e.hasValid?t("div",{staticClass:"s-table"},[e._t("actions",function(){return[e.searchable?t(B,e._g({attrs:{label:"Filtrar por: ",search:e.search}},e.$listeners)):e._e()]}),t("div",{staticClass:"table-container"},[t("table",{staticClass:"table"},[t("thead",{staticClass:"thead"},[t("tr",{staticClass:"tr-col"},[e.selectable?t("th",{staticClass:"th-col-selectable"},[t("input",{attrs:{type:"checkbox"},on:{change:e.selectedAll}})]):e._e(),e._t("col",function(){return e._l(e.cols,function(c,s){var i=c.text,n=c.row,l=c.sortable,m=c.align,g=m===void 0?"left":m;return t("th",{key:s,staticClass:"th-col"},[e._t("icon-sortable",function(){return[t("div",{staticClass:"td-col-container",style:{"justify-content":e.setAlignment("col",g)}},[t("span",{staticClass:"label"},[e._v(e._s(i))]),l?t("s-icon",{attrs:{size:"16",icon:e.assortment[n]==="increase"?"sdz-chevron-up":"sdz-chevron-down"},nativeOn:{click:function(W){return e.sort(n)}}}):e._e()],1)]})],2)})},{cols:e.cols}),t("th",{staticClass:"actions"})],2)]),e.rows.length?t("tbody",{staticClass:"tbody"},e._l(e.internalRows,function(c,s){return t("tr",{key:s,class:e.classTrRow(s),on:{mouseleave:function(n){e.hoverLine=null},mouseenter:function(n){e.hoverLine=s}}},[e.selectable?t("td",{staticClass:"td-row selectable"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checkeds,expression:"checkeds"}],attrs:{type:"checkbox"},domProps:{value:c,checked:Array.isArray(e.checkeds)?e._i(e.checkeds,c)>-1:e.checkeds},on:{change:[function(i){var n=e.checkeds,l=i.target,m=!!l.checked;if(Array.isArray(n)){var g=c,r=e._i(n,g);l.checked?r<0&&(e.checkeds=n.concat([g])):r>-1&&(e.checkeds=n.slice(0,r).concat(n.slice(r+1)))}else e.checkeds=m},function(i){return e.$emit("selected",e.checkeds)}]}})]):e._e(),e._t("row",function(){return e._l(Object.keys(c),function(i,n){return t("td",e._b({key:n,staticClass:"td-row",style:{"text-align":e.setAlignment("row",c.align||"left")},attrs:{cols:e.cols}},"td",e.$attrs,!1),[i!=="align"?t("span",{staticClass:"row"},[e._v(e._s(c[i]))]):e._e()])})},{row:c}),t("td",{staticClass:"actions"},[t("s-icon",{directives:[{name:"show",rawName:"v-show",value:e.actions.length&&e.hoverLine===s,expression:"actions.length && hoverLine === index"}],ref:"action",refInFor:!0,attrs:{size:"25",icon:"sdz-more-horizzontal"},nativeOn:{click:function(n){n.stopPropagation(),e.activeAction=s}}}),e.activeAction===s?t("s-popover",{staticClass:"popover",attrs:{align:"left",target:e.$refs.action[s]},on:{handler:function(n){e.activeAction=null}}},e._l(e.actions,function(i){return t("div",{key:i.label,staticClass:"action",on:{click:function(l){e.$emit("action",{action:i.label,row:c}),e.activeAction=null}}},[i.icon?t("s-icon",{attrs:{icon:i.icon}}):e._e(),t("span",{staticClass:"label"},[e._v(e._s(i.label))])],1)}),0):e._e()],1)],2)}),0):t("div",{staticClass:"empty"},[e._t("empty",function(){return[e._v("EMPTY STATE")]})],2)])]),e._t("tfoot",function(){return[e.paginable?t("tfoot",{class:["tfoot",{"--show-per-page":e.showPerPage}]},[e.showPerPage?t("div",{staticClass:"per-page"},[e._v(" Linhas por p\xE1gina: "+e._s(e.perPage)+" "),t("s-icon",{ref:"target",attrs:{icon:"sdz-chevron-up"},nativeOn:{click:function(s){e.showPages=!0}}}),e.showPages?t("s-popover",{staticClass:"popover",attrs:{align:"center",position:"top","arrow-spacing":10,target:e.$refs.target},on:{handler:function(s){e.showPages=!1}}},e._l([100,75,50,25,10],function(c){return t("div",{key:c,on:{click:function(i){return e.changePerPage(c)}}},[e._v(" Mostrar "+e._s(c)+" ")])}),0):e._e()],1):e._e(),t(v,e._g(e._b({attrs:{rows:e.rows,page:e.page,"per-page":e.perPage}},"pagination",e.$attrs,!1),e.$listeners))],1):e._e()]})],2):t("div",{staticClass:"empty-state"},[e._t("invalid",function(){return[e._v(" error: invalid table! ")]})],2)},L=[];const M={name:"STable",components:{SPopover:w,Pagination:v,SIcon:()=>f(()=>import("./Index.f23f84c0.js"),["assets/Index.f23f84c0.js","assets/index.88ccfa18.js","assets/index.a37e07de.css"]).then(a=>a.default)},mixins:[z],props:{cols:{type:Array,required:!0},rows:{type:Array,required:!0},actions:{type:Array,default:()=>[]},paginable:Boolean,selectable:Boolean,searchable:Boolean,showPerPage:{type:Boolean,default:!0},page:{type:[Number,String],validator:a=>!!a,default:1},perPage:{type:[Number,String],validator:a=>a>2,default:10}},data(){return{internalRows:[],checkeds:[],allChecked:!1,assortment:{},hoverLine:null,showPages:!1,activeAction:null}},watch:{rows:{handler:"setRows",immediate:!0}},created(){this.internalRows=this.rows,this.assortment=this.cols.reduce((a,e)=>(e.sortable&&(a[e.row]="increase"),a),{})},methods:{setRows(){this.internalRows=this.rows},classTrRow(a){return["tr-row",{"--is-active-row":a===this.hoverLine}]},setAlignment(a,e){return e==="right"?a==="col"?"flex-end":"right":e==="left"?a==="col"?"flex-start":"left":"center"},changePerPage(a){this.showPages=!1,this.$emit("change:page",1),this.$emit("change:per-page",a)},selectedAll(){this.allChecked?(this.allChecked=!1,this.checkeds=[]):(this.allChecked=!0,this.checkeds=this.rows),this.$emit("selected",this.checkeds)},sort(a){this.assortment[a]=this.assortment[a]==="increase"?"decrease":"increase",this.internalRows=this.internalRows.sort(T(a,this.assortment[a]))}}},_={};var q=u(M,F,L,!1,G,null,null,null);function G(a){for(let e in _)this[e]=_[e]}const D=function(){return q.exports}(),H=[{text:"Nome",row:"name",sortable:!0},{text:"E-mail",row:"email"},{text:"Mal\xEDcia",row:"malice",sortable:!0},{text:"Sagacidade",row:"sagacity"}],V=[{name:"acoe1",email:"coe1@gmail.com",malice:2,sagacity:3},{name:"bcoe2",email:"coe2@gmail.com",malice:1,sagacity:3},{name:"ccoe3",email:"coe3@gmail.com",malice:3,sagacity:3},{name:"dcoe4",email:"coe4@gmail.com",malice:10,sagacity:3},{name:"ecoe5",email:"coe5@gmail.com",malice:10,sagacity:3},{name:"fcoe6",email:"coe6@gmail.com",malice:10,sagacity:3},{name:"gcoe7",email:"coe7@gmail.com",malice:4,sagacity:3},{name:"hcoe8",email:"coe8@gmail.com",malice:10,sagacity:3},{name:"icoe9",email:"coe9@gmail.com",malice:10,sagacity:3},{name:"jcoe10",email:"coe10@gmail.com",malice:10,sagacity:3},{name:"kcoe11",email:"coe11@gmail.com",malice:10,sagacity:3},{name:"coe12",email:"coe12@gmail.com",malice:10,sagacity:3},{name:"coe13",email:"coe13@gmail.com",malice:10,sagacity:3},{name:"coe14",email:"coe14@gmail.com",malice:10,sagacity:3},{name:"coe15",email:"coe15@gmail.com",malice:10,sagacity:3},{name:"coe16",email:"coe16@gmail.com",malice:10,sagacity:3},{name:"coe17",email:"coe17@gmail.com",malice:10,sagacity:3},{name:"coe18",email:"coe18@gmail.com",malice:10,sagacity:3},{name:"coe19",email:"coe19@gmail.com",malice:10,sagacity:3},{name:"coe20",email:"coe20@gmail.com",malice:10,sagacity:3},{name:"coe21",email:"coe21@gmail.com",malice:10,sagacity:3},{name:"coe22",email:"coe22@gmail.com",malice:10,sagacity:3},{name:"coe22",email:"coe22@gmail.com",malice:20,sagacity:3},{name:"coe23",email:"coe23@gmail.com",malice:20,sagacity:3},{name:"coe24",email:"coe24@gmail.com",malice:20,sagacity:3},{name:"coe25",email:"coe25@gmail.com",malice:20,sagacity:3},{name:"coe26",email:"coe26@gmail.com",malice:20,sagacity:3},{name:"coe27",email:"coe27@gmail.com",malice:20,sagacity:3},{name:"coe28",email:"coe28@gmail.com",malice:20,sagacity:3},{name:"coe29",email:"coe29@gmail.com",malice:10,sagacity:3},{name:"coe30",email:"coe20@gmail.com",malice:10,sagacity:3},{name:"coe31",email:"coe20@gmail.com",malice:10,sagacity:3},{name:"coe32",email:"coe20@gmail.com",malice:10,sagacity:3},{name:"coe33",email:"coe20@gmail.com",malice:10,sagacity:3},{name:"coe34",email:"coe20@gmail.com",malice:10,sagacity:3},{name:"coe34",email:"coe20@gmail.com",malice:10,sagacity:3},{name:"coe35",email:"coe20@gmail.com",malice:10,sagacity:3},{name:"coe36",email:"coe20@gmail.com",malice:10,sagacity:3},{name:"coe37",email:"coe20@gmail.com",malice:10,sagacity:3},{name:"coe38",email:"coe20@gmail.com",malice:10,sagacity:3}];var Y=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("section",{staticClass:"s-table-example"},[t("s-title",{attrs:{size:"title-1"}},[e._v("Table (simple)")]),t("s-box",[t("s-table",{attrs:{paginable:"",selectable:"",cols:e.cols,rows:e.tableRows,page:e.page,"per-page":e.perPage,sortable:["name","sagacity"],actions:[{label:"Editar"},{label:"Remover"}]},on:{next:function(s){e.page++},previous:function(s){e.page--},"change:page":function(s){return e.page=s},sort:e.sort,action:e.action,"change:per-page":function(s){return e.perPage=s},selected:function(s){return e.selecteds=s}}})],1),t("s-title",{attrs:{size:"title-1"}},[e._v("Table (dynamic)")]),t("s-box",[t("s-table",{attrs:{paginable:"",selectable:"","show-per-page":!1,cols:e.cols2,rows:e.tableRows2,page:e.page,"per-page":e.perPage,"total-pages":e.totalPages,sortable:["name","sagacity"],actions:[{label:"Editar"},{label:"Remover"}]},on:{next:function(s){e.page++},previous:function(s){e.page--},"change:page":function(s){return e.page=s},sort:e.sort,action:e.action,"change:per-page":function(s){return e.perPage=s},selected:function(s){return e.selecteds=s}}})],1),t("s-title",{attrs:{size:"title-1"}},[e._v("Table (scoped)")]),t("s-box",[t("s-table",{attrs:{cols:e.cols,rows:e.tableRows},scopedSlots:e._u([{key:"row",fn:function(s){var i=s.row;return[t("td",{staticClass:"td-row"},[t("span",{staticClass:"row"},[e._v(e._s(i.name))])]),t("td",{staticClass:"td-row"},[t("span",{staticClass:"row"},[e._v(e._s(i.email))])]),t("td",{staticClass:"td-row"},[t("span",{staticClass:"row"},[e._v(e._s(i.malice))])]),t("td",{staticClass:"td-row"},[t("span",{staticClass:"row"},[e._v(e._s(i.sagacity))])])]}}])})],1)],1)},J=[];const K={name:"STableExample",components:{STable:D,SBox:y,STitle:b},data(){return{cols:H,rows:V,cols2:[],rows2:[],totalPages:null,page:1,perPage:10,search:"",selecteds:[]}},watch:{page:{immediate:!0,handler:"getDataTable"}},computed:{tableRows(){return this.search?this.rows:this.rows},tableRows2(){return this.search?this.rows:this.rows2}},methods:{getDataTable(a=1){const e={method:"GET",headers:new Headers};fetch(`https://mocki.io/v1/a2f5d112-cb71-4a3b-9941-089fe0e4b8f3?page=${a}`,e).then(o=>o.json()).then(o=>{const t=Object.keys(o.data[0]),c=o.data;this.cols2=t.map(s=>({text:s,row:s,align:"left"})),this.rows2=c.map(s=>({...s,align:"left"})),this.totalPages=o.recordsTotal})},synchronizeSearch(a){this.search=a},getRow(a,e){const o=this.cols.map(({row:t})=>t);return a[o[e]]||""},onSort(a){console.log(a),this.rows=a},action({action:a,row:e}){console.log(a,e)},sort({row:a,type:e}){console.log(a,e)}}},d={};var Q=u(K,Y,J,!1,U,null,null,null);function U(a){for(let e in d)this[e]=d[e]}const se=function(){return Q.exports}();export{se as default};
