import{n as a,S as f,a as d}from"./index.87a58ed9.js";var p=function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("div",{class:["s-pin"]},e._l(e.cells,function(u,o){return n("input",e._b({key:o,ref:"ref".concat(o),refInFor:!0,class:["input",{"--is-filled":u,"--has-error":e.hasError}],attrs:{type:"tel",pattern:"\\d*"},domProps:{value:u},on:{keydown:function(r){return r.stopPropagation(),e.onKeyDown.apply(null,arguments)},focus:function(r){return r.stopPropagation(),e.onFocus(+o)},input:function(r){return r.stopPropagation(),function(_){return e.onInput(_,+o)}.apply(null,arguments)}}},"input",e.$attrs,!1))}),0)},h=[];const v={name:"SPin",props:{size:{type:Number,default:4},hasError:Boolean},data(){return{cells:{},focusedIndex:0}},mounted(){this.cells=Array.from({length:this.size}).reduce((t,e,s)=>(t[s]="",t),{})},methods:{getRef(t){var s;const e=`ref${t}`;return(s=this.$refs[e])==null?void 0:s[0]},onInput(t,e){const s=+t.data,n=+e,o=["deleteContentBackward","deleteContentForward"].includes(t.inputType)||isNaN(s),i=this.getRef(n);i.value="",this.$forceUpdate(),this.cells[n]=o?"":s,this.$emit("update",this.cells),this.focusedIndex!==this.size-1&&this.onFocus(o?n:n+1)},onKeyDown({keyCode:t}){if([38,40].includes(t))return this.onFocus(this.focusedIndex);if(t===39)return this.focusNext();if(t===37)return this.focusPrevious()},onFocus(t){const e=this.getRef(t);e.focus(),setTimeout(()=>{e.setSelectionRange(2,2)},0),this.focusedIndex=+t},focusPrevious(){const t=this.focusedIndex?this.focusedIndex-1:this.focusedIndex;this.onFocus(t)},focusNext(){const t=this.focusedIndex===this.size-1?this.focusedIndex:this.focusedIndex+1;this.onFocus(t)}}},c={};var x=a(v,p,h,!1,m,null,null,null);function m(t){for(let e in c)this[e]=c[e]}const I=function(){return x.exports}();var y=function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("div",{staticClass:"s-pin-example flex-line"},[n("s-title",{attrs:{size:"title-1"}},[e._v("Pin")]),n("p",{staticClass:"subtitle"},[e._v(" Pin description ")]),n("s-box",[n("s-pin"),n("s-pin",{attrs:{size:6}}),n("s-pin",{attrs:{"has-error":""}})],1)],1)},$=[];const g={components:{SPin:I,SBox:f,STitle:d}},l={};var F=a(g,y,$,!1,P,null,null,null);function P(t){for(let e in l)this[e]=l[e]}const z=function(){return F.exports}();export{z as default};
