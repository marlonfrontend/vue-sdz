import{n as h,e as f,b as p,_}from"./index.7254144d.js";import g from"./Index.bd019f0f.js";import"./vendor.0f0055ec.js";var m=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"pagination"},[e._t("pagination",function(){return[t("div",{staticClass:"pages"},[t("s-input",{attrs:{mask:["##########"],value:e.page},on:{input:function(s){return e.$emit("change:page",s)}}}),e._v(" / "+e._s(e.totalPages)+" "),t("s-icon",{staticClass:"previous",attrs:{size:"23",icon:"sdz-chevron-left",disabled:!e.canBack},nativeOn:{click:function(s){e.canBack&&e.$emit("previous")}}}),t("s-icon",{staticClass:"next",attrs:{size:"23",icon:"sdz-chevron-right",disabled:!e.canGo},nativeOn:{click:function(s){e.canGo&&e.$emit("next")}}})],1)]})],2)},y=[];const b={name:"Pagination",components:{SIcon:f,SInput:p},props:{totalPages:Number,page:[Number,String],perPage:[Number,String],rows:{type:Array,required:!0}},computed:{canBack(){return+this.page!=1},canGo(){return+this.page<Math.ceil(this.totalPages)}}},d={};var k=h(b,m,y,!1,$,null,null,null);function $(e){for(let n in d)this[n]=d[n]}var w=function(){return k.exports}();const C=(e,n)=>typeof(e&&n)=="number";var P=(e,n)=>(t,s)=>C(t[e],s[e])?n==="increase"?s[e]-t[e]:t[e]-s[e]:n==="increase"?t[e]>s[e]?1:t[e]<s[e]?-1:0:t[e]<s[e]?1:t[e]>s[e]?-1:0;const x={created(){this.cols.forEach(e=>{typeof e!="object"&&console.error("the array of columns must contain only objects")}),this.rows.forEach(e=>{typeof e!="object"&&console.error("the array of rows must contain only objects")}),this.paginable&&!!this.maxHeight&&console.warn("pagination can not have a maxHeight property")},computed:{hasValid(){return!(this.cols||this.$scopedSlots.col)&&!(this.dataTable||this.$scopedSlots.row)?(console.error("you must set the array of columns and rows"),!1):this.cols||this.$scopedSlots.col?this.rows||this.$scopedSlots.row?!0:(console.error("you must set the array of rows"),!1):(console.error("you must set the array of columns"),!1)}}};var A=function(){var e=this,n=e.$createElement,t=e._self._c||n;return e.hasValid?t("div",{staticClass:"s-table"},[e._t("actions",function(){return[e.searchable?t("filters",e._g({attrs:{label:"Filtrar por: ",search:e.search}},e.$listeners)):e._e()]}),t("div",{staticClass:"table-container"},[t("table",{staticClass:"table"},[t("thead",{staticClass:"thead"},[t("tr",{staticClass:"tr-col"},[e.selectable?t("th",{staticClass:"th-col-selectable"},[t("input",{attrs:{type:"checkbox"},on:{change:e.selectedAll}})]):e._e(),e._t("col",function(){return e._l(e.cols,function(s,o){var a=s.text,r=s.row,c=s.sortable,i=s.align;return i===void 0&&(i="left"),t("th",{key:o,staticClass:"th-col"},[e._t("icon-sortable",function(){return[t("div",{staticClass:"td-col-container",style:{"justify-content":e.setAlignment("col",i)}},[t("span",{staticClass:"label"},[e._v(e._s(a))]),c?t("s-icon",{attrs:{size:"16",icon:e.assortment[r]==="increase"?"sdz-chevron-up":"sdz-chevron-down"},nativeOn:{click:function(u){return e.sort(r)}}}):e._e()],1)]})],2)})},{cols:e.cols}),t("th",{staticClass:"actions"})],2)]),e.rows.length?t("tbody",{staticClass:"tbody"},e._l(e.internalRows,function(s,o){return t("tr",{key:o,class:e.classTrRow(o),on:{mouseleave:function(a){e.hoverLine=null},mouseenter:function(a){e.hoverLine=o}}},[e.selectable?t("td",{staticClass:"td-row selectable"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checkeds,expression:"checkeds"}],attrs:{type:"checkbox"},domProps:{value:s,checked:Array.isArray(e.checkeds)?e._i(e.checkeds,s)>-1:e.checkeds},on:{change:[function(a){var r=e.checkeds,c=a.target,i=!!c.checked;if(Array.isArray(r)){var u=s,l=e._i(r,u);c.checked?l<0&&(e.checkeds=r.concat([u])):l>-1&&(e.checkeds=r.slice(0,l).concat(r.slice(l+1)))}else e.checkeds=i},function(a){return e.$emit("selected",e.checkeds)}]}})]):e._e(),e._t("row",function(){return e._l(Object.keys(s),function(a,r){return t("td",e._b({key:r,staticClass:"td-row",style:{"text-align":e.setAlignment("row",s.align||"left")},attrs:{cols:e.cols}},"td",e.$attrs,!1),[a!=="align"?t("span",{staticClass:"row"},[e._v(e._s(s[a]))]):e._e()])})},{row:s}),t("td",{staticClass:"actions"},[t("s-icon",{directives:[{name:"show",rawName:"v-show",value:e.actions.length&&e.hoverLine===o,expression:"actions.length && hoverLine === index"}],ref:"action",refInFor:!0,attrs:{size:"25",icon:"sdz-more-horizzontal"},nativeOn:{click:function(a){a.stopPropagation(),e.activeAction=o}}}),e.activeAction===o?t("s-popover",{staticClass:"popover",attrs:{align:"left",target:e.$refs.action[o]},on:{handler:function(a){e.activeAction=null}}},e._l(e.actions,function(a){return t("div",{key:a.label,staticClass:"action",on:{click:function(r){e.$emit("action",{action:a.label,row:s}),e.activeAction=null}}},[a.icon?t("s-icon",{attrs:{icon:a.icon}}):e._e(),t("span",{staticClass:"label"},[e._v(e._s(a.label))])],1)}),0):e._e()],1)],2)}),0):t("div",{staticClass:"empty"},[e._t("empty",function(){return[e._v("EMPTY STATE")]})],2)])]),e._t("tfoot",function(){return[e.paginable?t("tfoot",{class:["tfoot",{"--show-per-page":e.showPerPage}]},[e.showPerPage?t("div",{staticClass:"per-page"},[e._v(" Linhas por p\xE1gina: "+e._s(e.perPage)+" "),t("s-icon",{ref:"target",attrs:{icon:"sdz-chevron-up"},nativeOn:{click:function(s){e.showPages=!0}}}),e.showPages?t("s-popover",{staticClass:"popover",attrs:{align:"center",position:"top","arrow-spacing":10,target:e.$refs.target},on:{handler:function(s){e.showPages=!1}}},e._l([100,75,50,25,10],function(s){return t("div",{key:s,on:{click:function(o){return e.changePerPage(s)}}},[e._v(" Mostrar "+e._s(s)+" ")])}),0):e._e()],1):e._e(),t("pagination",e._g(e._b({attrs:{rows:e.rows,page:e.page,"per-page":e.perPage}},"pagination",e.$attrs,!1),e.$listeners))],1):e._e()]})],2):t("div",{staticClass:"empty-state"},[e._t("invalid",function(){return[e._v(" error: invalid table! ")]})],2)},S=[];const z={name:"STable",components:{SPopover:g,Pagination:w,SIcon:()=>_(()=>import("./index.7254144d.js").then(function(e){return e.h}),["assets/index.7254144d.js","assets/index.f6833f92.css","assets/vendor.0f0055ec.js"]).then(e=>e.default)},mixins:[x],props:{cols:{type:Array,required:!0},rows:{type:Array,required:!0},actions:{type:Array,default:()=>[]},paginable:Boolean,selectable:Boolean,searchable:Boolean,showPerPage:{type:Boolean,default:!0},page:{type:[Number,String],validator:e=>!!e,default:1},perPage:{type:[Number,String],validator:e=>e>2,default:10}},data(){return{internalRows:[],checkeds:[],allChecked:!1,assortment:{},hoverLine:null,showPages:!1,activeAction:null}},watch:{rows:{handler:"setRows",immediate:!0}},created(){this.internalRows=this.rows,this.assortment=this.cols.reduce((e,n)=>(n.sortable&&(e[n.row]="increase"),e),{})},methods:{setRows(){this.internalRows=this.rows},classTrRow(e){return["tr-row",{"--is-active-row":e===this.hoverLine}]},setAlignment(e,n){return n==="right"?e==="col"?"flex-end":"right":n==="left"?e==="col"?"flex-start":"left":"center"},changePerPage(e){this.showPages=!1,this.$emit("change:page",1),this.$emit("change:per-page",e)},selectedAll(){this.allChecked?(this.allChecked=!1,this.checkeds=[]):(this.allChecked=!0,this.checkeds=this.rows),this.$emit("selected",this.checkeds)},sort(e){this.assortment[e]=this.assortment[e]==="increase"?"decrease":"increase",this.internalRows=this.internalRows.sort(P(e,this.assortment[e]))}}},v={};var R=h(z,A,S,!1,j,null,null,null);function j(e){for(let n in v)this[n]=v[n]}var N=function(){return R.exports}();export{N as default};
