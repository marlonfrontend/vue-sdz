var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(a,t,i)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i,l=(e,a)=>{for(var t in a||(a={}))c.call(a,t)&&o(e,t,a[t]);if(i)for(var t of i(a))s.call(a,t)&&o(e,t,a[t]);return e},r=(e,i)=>a(e,t(i));"undefined"!=typeof require&&require;import{S as n}from"./Index.0cbf5e72.js";import{n as m,S as g}from"./index.78b82f7f.js";import{S as h}from"./box.c9997a17.js";import"./vendor.97cc0df3.js";const p={};var u=m({name:"Filters",props:{search:{type:String,required:!0}}},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"filters"},[t("input",e._b({staticClass:"filter",domProps:{value:e.search},on:{input:function(a){return e.$emit("filter",a.target.value)}}},"input",e.$attrs,!1))])}),[],!1,d,null,null,null);function d(e){for(let a in p)this[a]=p[a]}var y=function(){return u.exports}();const f={};var b=m({name:"Pagination",props:{pages:{type:Array,required:!0},page:{type:Number,required:!0}}},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"pagination"},[e._t("pagination",(function(){return[t("div",{staticClass:"pages"},[t("span",{staticClass:"first",on:{click:function(a){return e.$emit("to-first")}}},[e._v("«")]),e._l(e.pages,(function(a,i){return t("button",{key:i+"…",class:["page",{"-page":i+1===e.page}],on:{click:function(t){return e.$emit("change-page",a)}}},[e._v(" "+e._s(a.handler||a.page)+" ")])})),t("span",{staticClass:"last",on:{click:function(a){return e.$emit("to-last")}}},[e._v("»")])],2)]}),{pages:e.pages})],2)}),[],!1,w,null,null,null);function w(e){for(let a in f)this[a]=f[a]}const v={props:{sortable:Boolean},watch:{page(){this.iconToSort="▼"}},methods:{$handlerSort(e){"▼"===this.iconToSort?this.iconToSort="▲":this.iconToSort="▼",this.$emit("sort",{item:e,type:"▼"===this.iconToSort?"decrease":"increase"})}}},_={props:{selectable:Boolean},data:()=>({checkeds:[],allChecked:!1}),methods:{$selected(e){this.$emit("selected",e)},$selectedAll(){this.allChecked?(this.allChecked=!1,this.checkeds=[],this.$emit("reset-all")):(this.allChecked=!0,this.checkeds=this.rows,this.$emit("selected-all",{page:this.rows,table:this.rows}))}}},S={props:{paginable:Boolean,paginationType:{type:String,validator:e=>["full","ellipsised"].includes(e),default:"full"},paginate:{type:Object,default:()=>({})},currentPage:{type:[Number,String],validator:e=>!!e,default:1},perPage:{type:[Number,String],validator:e=>e>2,default:10},pagesLimit:{type:[Number,String],validator:e=>e>3}},data(){return{page:this.currentPage}},watch:{search(e,a){this.paginable&&(e!==a&&(this.page=1),e||(this.page=this.currentPage))}},computed:{pagination(){const e=this.rows,a=e.slice((this.page-1)*this.perPage,this.perPage*this.page),t=(this.page-1)*this.perPage+1,i=(this.page-1)*this.perPage+a.length;return r(l(r(l({data:a},this.page),{from:t}),this.perPage),{to:i,total:e.length})},totalPaged(){const e=this.search?this.pagination.total:this.rows.length;return Math.ceil(e/this.perPage)},pages(){const e=this.rows.slice(0,this.pagesLimit||this.totalPaged);return Array.from({length:e.length},((e,a)=>({page:a+1,handler:"ellipsised"===this.paginationType&&this.calcPages(a)})))}},methods:{calcPages(e){const a=e+1,t=e+3<=this.page;if(2===a&&t)return"‹";const i=a===(this.pagesLimit||this.totalPaged)-1,c=this.page<=(this.pagesLimit-3||this.totalPaged-3)&&"›";return i&&c?"›":void 0},toFirst(){this.page=1},changePage({page:e,handler:a}){"‹"===a?this.page-=2:"›"===a?this.page+=2:this.page=e},toLast(){this.page=this.totalPaged}}};var k=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.hasValid?t("div",{staticClass:"s-table"},[e._t("actions",(function(){return[t("filters",e._g({attrs:{label:"Filtrar por: ",search:e.search}},e.$listeners))]})),e.isEmpty?t("div",[e._v(" EMPTY STATE ")]):t("div",{staticClass:"table-container"},[t("table",{staticClass:"table"},[t("thead",{staticClass:"thead"},[t("tr",{staticClass:"tr-col"},[e.selectable?t("th",{staticClass:"th-col-selectable"},[t("input",{attrs:{type:"checkbox"},on:{click:e.$selectedAll}})]):e._e(),e._t("col",(function(){return e._l(e.cols,(function(a,i){var c=a.label,s=a.row;return t("th",{key:i,staticClass:"th-col"},[e._t("icon-sortable",(function(){return[e.sortable?t("span",{staticClass:"icon-sortable-all",on:{click:function(a){return e.$handlerSort(s)}}},[e._v(" "+e._s(e.iconToSort)+" ")]):e._e()]})),t("span",[e._v(e._s(c))])],2)}))}),{cols:e.cols})],2)]),t("s-shadowed",{attrs:{"has-bottom-shadow":!1}},[t("tbody",{ref:"tbody",staticClass:"tbody"},e._l(e.rows,(function(a,i){return t("tr",{key:i,staticClass:"tr-row"},[e.selectable?t("td",{staticClass:"td-row-selectable"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checkeds,expression:"checkeds"}],attrs:{type:"checkbox"},domProps:{value:a,checked:Array.isArray(e.checkeds)?e._i(e.checkeds,a)>-1:e.checkeds},on:{change:[function(t){var i=e.checkeds,c=t.target,s=!!c.checked;if(Array.isArray(i)){var o=a,l=e._i(i,o);c.checked?l<0&&(e.checkeds=i.concat([o])):l>-1&&(e.checkeds=i.slice(0,l).concat(i.slice(l+1)))}else e.checkeds=s},function(t){return e.$selected(a)}]}})]):e._e(),e._t("row",(function(){return e._l(e.cols.length,(function(i,c){return t("td",{key:c,ref:"",refInFor:!0,staticClass:"td-row"},[t("span",{staticClass:"row"},[e._v(e._s(e.getRow(a,c)))])])}))}),{rows:a,cols:e.cols})],2)})),0)]),e._t("tfoot")],2),e.paginable?t("pagination",{attrs:{pages:e.pages,page:e.page},on:{"to-first":e.toFirst,"change-page":e.changePage,"to-last":e.toLast}}):e._e()],1)],2):t("div",{staticClass:"empty-state"},[e._t("empty",(function(){return[e._v(" error: invalid table! ")]}))],2)};const P={};var C=m({name:"STable",components:{SShadowed:n,Pagination:function(){return b.exports}(),Filters:y},mixins:[{created(){this.cols.forEach((e=>{"object"!=typeof e&&console.error("the array of columns must contain only objects")})),this.rows.forEach((e=>{"object"!=typeof e&&console.error("the array of rows must contain only objects")})),this.paginable&&this.maxHeight&&console.warn("pagination can not have a maxHeight property")},computed:{hasValid(){return this.cols||this.$scopedSlots.col||this.dataTable||this.$scopedSlots.row?this.cols||this.$scopedSlots.col?!(!this.dataTable&&!this.$scopedSlots.row)||(console.error("you must set the array of rows"),!1):(console.error("you must set the array of columns"),!1):(console.error("you must set the array of columns and rows"),!1)}}},v,_,S],props:{cols:{type:Array,required:!0},rows:{type:Array,required:!0},search:String,searchParams:{type:Array}},data:()=>({iconToSort:"▼"}),computed:{isEmpty(){return!this.pages.length&&this.search},dataTable(){return this.paginable?this.pagination.data:this.rows}},methods:{getRow(e,a){return e[this.cols.map((({row:e})=>e))[a]]||""}}},k,[],!1,$,null,null,null);function $(e){for(let a in P)this[a]=P[a]}const T=[{label:"Nome",row:"name"},{label:"E-mail",row:"email"},{label:"Idade",row:"age"},{label:"Malícia",row:"malice"},{label:"Sagacidade",row:"sagacity"},{label:"Coisas",row:"stuff"}],x=[{name:"coe1",email:"coe1@gmail.com",age:6,malice:3,sagacity:3},{name:"coe2",email:"coe2@gmail.com",age:3,malice:3,sagacity:3},{name:"coe3",email:"coe3@gmail.com",age:2,malice:3,sagacity:3},{name:"coe4",email:"coe4@gmail.com",age:1,malice:10,sagacity:3},{name:"coe5",email:"coe5@gmail.com",age:1,malice:10,sagacity:3},{name:"coe6",email:"coe6@gmail.com",age:1,malice:10,sagacity:3},{name:"coe7",email:"coe7@gmail.com",age:1,malice:10,sagacity:3},{name:"coe8",email:"coe8@gmail.com",age:1,malice:10,sagacity:3},{name:"coe9",email:"coe9@gmail.com",age:1,malice:10,sagacity:3},{name:"coe10",email:"coe10@gmail.com",age:1,malice:10,sagacity:3},{name:"coe11",email:"coe11@gmail.com",age:1,malice:10,sagacity:3},{name:"coe12",email:"coe12@gmail.com",age:1,malice:10,sagacity:3},{name:"coe13",email:"coe13@gmail.com",age:1,malice:10,sagacity:3},{name:"coe14",email:"coe14@gmail.com",age:1,malice:10,sagacity:3},{name:"coe15",email:"coe15@gmail.com",age:1,malice:10,sagacity:3},{name:"coe16",email:"coe16@gmail.com",age:1,malice:10,sagacity:3},{name:"coe17",email:"coe17@gmail.com",age:1,malice:10,sagacity:3},{name:"coe18",email:"coe18@gmail.com",age:1,malice:10,sagacity:3},{name:"coe19",email:"coe19@gmail.com",age:1,malice:10,sagacity:3},{name:"coe20",email:"coe20@gmail.com",age:1,malice:10,sagacity:3},{name:"coe21",email:"coe21@gmail.com",age:1,malice:10,sagacity:3},{name:"coe22",email:"coe22@gmail.com",age:1,malice:10,sagacity:3},{name:"coe22",email:"coe22@gmail.com",age:2,malice:20,sagacity:3},{name:"coe23",email:"coe23@gmail.com",age:2,malice:20,sagacity:3},{name:"coe24",email:"coe24@gmail.com",age:2,malice:20,sagacity:3},{name:"coe25",email:"coe25@gmail.com",age:2,malice:20,sagacity:3},{name:"coe26",email:"coe26@gmail.com",age:2,malice:20,sagacity:3},{name:"coe27",email:"coe27@gmail.com",age:2,malice:20,sagacity:3},{name:"coe28",email:"coe28@gmail.com",age:2,malice:20,sagacity:3},{name:"coe29",email:"coe29@gmail.com",age:2,malice:10,sagacity:3},{name:"coe30",email:"coe20@gmail.com",age:1,malice:10,sagacity:3},{name:"coe31",email:"coe20@gmail.com",age:1,malice:10,sagacity:3},{name:"coe32",email:"coe20@gmail.com",age:1,malice:10,sagacity:3},{name:"coe33",email:"coe20@gmail.com",age:1,malice:10,sagacity:3},{name:"coe34",email:"coe20@gmail.com",age:1,malice:10,sagacity:3},{name:"coe34",email:"coe20@gmail.com",age:1,malice:10,sagacity:3},{name:"coe35",email:"coe20@gmail.com",age:1,malice:10,sagacity:3},{name:"coe36",email:"coe20@gmail.com",age:1,malice:10,sagacity:3},{name:"coe37",email:"coe20@gmail.com",age:1,malice:10,sagacity:3},{name:"coe38",email:"coe20@gmail.com",age:1,malice:10,sagacity:3}];const j={};var E=m({name:"STableExample",components:{STable:function(){return C.exports}(),SBox:h,STitle:g},data:()=>({cols:T,rows:x,search:"",checkeds:[]}),computed:{tableRows(){return this.search?function(e=[],a="",t=""){const i=function(e){return e.trim().split(" ")}(a);return e.filter((e=>i.every((a=>function(e,a){var t;return e?(null==(t=a.toLowerCase().split(e.toLowerCase()))?void 0:t.length)-1:0}(a,e[t]||"")))))}(this.rows,this.search,"name"):this.rows}},methods:{synchronizeSearch(e){this.search=e},onSort(e){console.log(e),this.rows=e}}},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",{staticClass:"s-table-example"},[t("s-title",{staticClass:"h1",attrs:{title:"Table"}}),t("s-box",[t("s-table",{attrs:{cols:e.cols,rows:e.tableRows,search:e.search,"search-params":["name"],checkeds:e.checkeds,"current-page":2,"per-page":5,selectable:"",sortable:"","pagination-type":"ellipsised"},on:{"update:checkeds":function(a){e.checkeds=a},sort:e.onSort,filter:e.synchronizeSearch}})],1)],1)}),[],!1,A,null,null,null);function A(e){for(let a in j)this[a]=j[a]}var O=function(){return E.exports}();export{O as default};
