import{d as e}from"./vendor.97cc0df3.js";import{n as t}from"./index.78b82f7f.js";var r,i={exports:{}};
/*!
 * vue-coe-image v0.2.1
 * (c) 2018-present Vinicius Azevedo <viniazvd@gmail.com>
 * Released under the MIT License.
 */i.exports=r={name:"vue-coe-image",props:{loaderImage:{type:String,default:"https://cdn-images-1.medium.com/max/1600/1*9EBHIOzhE1XfMYoKz1JcsQ.gif"},src:{type:[String,File],required:!0},srcset:String,fallback:{type:String},animation:{type:Boolean,default:!0},delay:{type:[String,Number],default:0},blurLevel:{type:Number,default:30},duration:{type:Number,default:500},intersectionOptions:{type:Object,default:function(){return{}}}},data:function(){return{rate:1,observer:{},image:null,imageHandler:null,hasError:!1,intersected:!1}},watch:{src:"setSource",hasError:"setFallback"},created:function(){var e=this;this.image=this.loaderImage,this.$once("hook:mounted",(function(){setTimeout((function(){e.observer=new IntersectionObserver((function(t){t[0].isIntersecting&&(e.intersected=!0,e.setImage(),e.observer.disconnect(),e.$emit("intersect"))}),e.intersectionOptions),e.observer.observe(e.$el)}),e.delay)})),this.$once("hook:beforeDestroy",(function(){setTimeout((function(){e.observer.unobserve(e.$el)}),e.delay)}))},computed:{deviation:function(){return this.blurLevel*this.rate}},methods:{setSource:function(e,t){e!==t&&(this.hasError=!1,this.setImage())},setFallback:function(e){e&&(this.image=this.fallback)},handleLoad:function(){this.image=this.imageHandler.src,this.animation&&this.animate()},handleError:function(){this.fallback||console.warn("an error occured during the image loading"),this.hasError=!0,this.$emit("error")},setImage:function(){this.imageHandler=new Image,this.imageHandler.src=this.src||this.placeholder,this.imageHandler.onload=this.handleLoad,this.imageHandler.onerror=this.handleError},animate:function(){var e=this,t=Date.now()+this.duration,r=function(){var i=t-Date.now();i<0?e.rate=0:(e.rate=i/e.duration,requestAnimationFrame(r))};requestAnimationFrame(r)}},render:function(e){var t=e("feGaussianBlur",{attrs:{in:"SourceGraphic",stdDeviation:this.deviation}}),r=e("filter",{attrs:{id:"blur"}},[t]),i=e("defs",null,[r]),n=e("svg",{class:["filter-defs-svg hidden"],attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1"}},[i]),a=e("img",{ref:"img",class:"lazy-load-image",style:"url("+this.image+")",attrs:{src:this.image,crossorigin:"anonymous"}});return e("div",{class:"vue-coe-image"},[!this.hasError&&this.intersected&&n,a])},install:function(e){e.component("VueCoeImage",r)}};const n={};var a=t({name:"SImage",components:{VueCoeImage:i.exports},props:{duration:{type:Number,default:0}}},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("vue-coe-image",e._g(e._b({staticClass:"s-image",attrs:{duration:e.duration}},"vue-coe-image",e.$attrs,!1),e.$listeners))}),[],!1,s,null,null,null);function s(e){for(let t in n)this[t]=n[t]}var o=function(){return a.exports}();export{o as S};
