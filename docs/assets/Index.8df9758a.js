import{n as v,e as d,b as _,_ as f}from"./index.37372979.js";import g from"./Index.b838d5d8.js";import"./vendor.0f0055ec.js";var m=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"pagination"},[e._t("pagination",function(){return[t("div",{staticClass:"pages"},[t("s-input",{attrs:{mask:["##########"],value:e.page},on:{input:function(s){return e.$emit("change:page",s)}}}),e._v(" / "+e._s(e.rows.length)+" "),t("s-icon",{staticClass:"previous",attrs:{size:"23",icon:"sdz-chevron-left",disabled:!e.canBack},nativeOn:{click:function(s){e.canBack&&e.$emit("previous")}}}),t("s-icon",{staticClass:"next",attrs:{size:"23",icon:"sdz-chevron-right",disabled:!e.canGo},nativeOn:{click:function(s){e.canGo&&e.$emit("next")}}})],1)]})],2)},y=[];const b={name:"Pagination",components:{SIcon:d,SInput:_},props:{page:[Number,String],perPage:[Number,String],rows:{type:Array,required:!0}},computed:{canBack(){return+this.page!=1},canGo(){return+this.page<Math.ceil(this.rows.length/this.perPage)}}},h={};var k=v(b,m,y,!1,w,null,null,null);function w(e){for(let a in h)this[a]=h[a]}var $=function(){return k.exports}();const C=(e,a)=>typeof(e&&a)=="number";var P=(e,a)=>(t,s)=>C(t[e],s[e])?a==="increase"?s[e]-t[e]:t[e]-s[e]:a==="increase"?t[e]>s[e]?1:t[e]<s[e]?-1:0:t[e]<s[e]?1:t[e]>s[e]?-1:0;const A={created(){this.cols.forEach(e=>{typeof e!="object"&&console.error("the array of columns must contain only objects")}),this.rows.forEach(e=>{typeof e!="object"&&console.error("the array of rows must contain only objects")}),this.paginable&&!!this.maxHeight&&console.warn("pagination can not have a maxHeight property")},computed:{hasValid(){return!(this.cols||this.$scopedSlots.col)&&!(this.dataTable||this.$scopedSlots.row)?(console.error("you must set the array of columns and rows"),!1):this.cols||this.$scopedSlots.col?this.rows||this.$scopedSlots.row?!0:(console.error("you must set the array of rows"),!1):(console.error("you must set the array of columns"),!1)}}};var S=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.hasValid?t("div",{staticClass:"s-table"},[e._t("actions",function(){return[e.searchable?t("filters",e._g({attrs:{label:"Filtrar por: ",search:e.search}},e.$listeners)):e._e()]}),t("div",{staticClass:"table-container"},[t("table",{staticClass:"table"},[t("thead",{staticClass:"thead"},[t("tr",{staticClass:"tr-col"},[e.selectable?t("th",{staticClass:"th-col-selectable"},[t("input",{attrs:{type:"checkbox"},on:{change:e.selectedAll}})]):e._e(),e._t("col",function(){return e._l(e.cols,function(s,i){var n=s.text,r=s.row,o=s.sortable;return t("th",{key:i,staticClass:"th-col"},[e._t("icon-sortable",function(){return[t("div",{staticClass:"td-col-container"},[t("span",{staticClass:"label"},[e._v(e._s(n))]),o?t("s-icon",{attrs:{size:"16",icon:e.assortment[r]==="increase"?"sdz-chevron-up":"sdz-chevron-down"},nativeOn:{click:function(l){return e.sort(r)}}}):e._e()],1)]})],2)})},{cols:e.cols}),t("th",{staticClass:"actions"})],2)]),e.rows.length?t("tbody",{staticClass:"tbody"},e._l(e.dataRows,function(s,i){return t("tr",{key:i,class:e.classTrRow(i),on:{mouseleave:function(n){e.hoverLine=null},mouseenter:function(n){e.hoverLine=i}}},[e.selectable?t("td",{staticClass:"td-row selectable"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checkeds,expression:"checkeds"}],attrs:{type:"checkbox"},domProps:{value:s,checked:Array.isArray(e.checkeds)?e._i(e.checkeds,s)>-1:e.checkeds},on:{change:[function(n){var r=e.checkeds,o=n.target,l=!!o.checked;if(Array.isArray(r)){var u=s,c=e._i(r,u);o.checked?c<0&&(e.checkeds=r.concat([u])):c>-1&&(e.checkeds=r.slice(0,c).concat(r.slice(c+1)))}else e.checkeds=l},function(n){return e.$emit("selected",e.checkeds)}]}})]):e._e(),e._t("row",function(){return e._l(Object.keys(s),function(n,r){return t("td",e._b({key:r,staticClass:"td-row",attrs:{cols:e.cols}},"td",e.$attrs,!1),[t("span",{staticClass:"row"},[e._v(e._s(s[n]))])])})},{row:s}),t("td",{staticClass:"actions"},[t("s-icon",{directives:[{name:"show",rawName:"v-show",value:e.actions.length&&e.hoverLine===i,expression:"actions.length && hoverLine === index"}],ref:"action",refInFor:!0,attrs:{size:"25",icon:"sdz-more-horizzontal"},nativeOn:{click:function(n){n.stopPropagation(),e.activeAction=i}}}),e.activeAction===i?t("s-popover",{staticClass:"popover",attrs:{align:"left",target:e.$refs.action[i]},on:{handler:function(n){e.activeAction=null}}},e._l(e.actions,function(n){return t("div",{key:n.label,staticClass:"action",on:{click:function(r){e.$emit("action",{action:n.label,row:s}),e.activeAction=null}}},[n.icon?t("s-icon",{attrs:{icon:n.icon}}):e._e(),t("span",{staticClass:"label"},[e._v(e._s(n.label))])],1)}),0):e._e()],1)],2)}),0):t("div",{staticClass:"empty"},[e._t("empty",function(){return[e._v("EMPTY STATE")]})],2)])]),e._t("tfoot",function(){return[e.paginable?t("tfoot",{staticClass:"tfoot"},[t("div",{staticClass:"per-page"},[e._v(" Linhas por p\xE1gina: "+e._s(e.perPage)+" "),t("s-icon",{ref:"target",attrs:{icon:"sdz-chevron-up"},nativeOn:{click:function(s){e.showPages=!0}}}),e.showPages?t("s-popover",{staticClass:"popover",attrs:{align:"center",position:"top","arrow-spacing":10,target:e.$refs.target},on:{handler:function(s){e.showPages=!1}}},e._l([100,75,50,25,10],function(s){return t("div",{key:s,on:{click:function(i){return e.changePerPage(s)}}},[e._v(" Mostrar "+e._s(s)+" ")])}),0):e._e()],1),t("pagination",e._g({attrs:{rows:e.rows,page:e.page,"per-page":e.perPage}},e.$listeners))],1):e._e()]})],2):t("div",{staticClass:"empty-state"},[e._t("invalid",function(){return[e._v(" error: invalid table! ")]})],2)},R=[];const x={name:"STable",components:{SPopover:g,Pagination:$,SIcon:()=>f(()=>import("./index.37372979.js").then(function(e){return e.h}),["assets/index.37372979.js","assets/index.db8840d1.css","assets/vendor.0f0055ec.js"]).then(e=>e.default)},mixins:[A],props:{cols:{type:Array,required:!0},rows:{type:Array,required:!0},actions:{type:Array,default:()=>[]},paginable:Boolean,selectable:Boolean,searchable:Boolean,page:{type:[Number,String],validator:e=>!!e,default:1},perPage:{type:[Number,String],validator:e=>e>2,default:10}},data(){return{internalRows:[],checkeds:[],allChecked:!1,assortment:{},hoverLine:null,showPages:!1,activeAction:null}},watch:{rows:{handler:"setRows",immediate:!0}},created(){this.internalRows=this.rows,this.assortment=this.cols.reduce((e,a)=>(a.sortable&&(e[a.row]="increase"),e),{})},computed:{dataRows(){return this.paginable?this.getPerPage(this.internalRows):this.internalRows}},methods:{setRows(){this.internalRows=this.rows},getPerPage(e){return e.slice((this.page-1)*this.perPage,this.perPage*this.page)},classTrRow(e){return["tr-row",{"--is-active-row":e===this.hoverLine}]},changePerPage(e){this.showPages=!1,this.$emit("change:page",1),this.$emit("change:per-page",e)},selectedAll(){this.allChecked?(this.allChecked=!1,this.checkeds=[]):(this.allChecked=!0,this.checkeds=this.rows),this.$emit("selected",this.checkeds)},sort(e){this.assortment[e]=this.assortment[e]==="increase"?"decrease":"increase",this.internalRows=this.getPerPage(this.internalRows).sort(P(e,this.assortment[e]))}}},p={};var z=v(x,S,R,!1,T,null,null,null);function T(e){for(let a in p)this[a]=p[a]}var j=function(){return z.exports}();export{j as default};
